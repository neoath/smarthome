<!DOCTYPE html>
<html ng-app="starter">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

    <link href="css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/additional.css" rel="stylesheet">
<!--     <link href="css/CircularNavigation.css" rel="stylesheet"> -->
    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/demo.css" rel="stylesheet">
    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->
    <!-- ionic/angularjs js -->
    <script src="js/Chart.min.js"></script>
    <script src="js/ionic.bundle.js"></script>
    <script src="js/angular-chart.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <!-- <script src="lib/ngCordova/dist/ng-cordova.js"></script>-->
    <script src="js/ng-cordova.min.js"></script>
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <!-- uuid generator js -->
    <script src="js/uuidGen.js"></script>
    <!-- code js -->
    <script type="text/javascript" src="js/aes.js"></script>
    <script type="text/javascript" src="js/pad-iso10126-min.js"></script>

    <!-- md5 encode js -->
    <script type="text/javascript" src="js/md5.js"></script>
    
    
    <script src="js/controllers.js"></script>
    <script src="js/WifiServices.js"></script>

    <script src="js/modernizr-2.6.2.min.js"></script>
    
</head>

<body ng-controller="MainCtrl" class="platform-android platform-cordova platform-webview">
    <script></script>
    
    <ion-nav-view animation="none"></ion-nav-view>
    
    <script id="templates/loading.html" type="text/ng-template">
        <ion-spinner icon="ripple" class="spinner-assertive"></ion-spinner>
        <br />
        <span>Loading...</span>
    </script>
    <script id="templates/modal.html" type="text/ng-template">
        <div ng-click="closeModal()">
            <ion-spinner icon="ripple" class="spinner-assertive"></ion-spinner>
            <br />
            <span>为了您的智能居家，我们正在拼命研发中，敬请期待 !</span>
        </div>
    </script>

     <script id="templates/nodepairing.html" type="text/ng-template">
        <div ng-click="nodepairing()">
            <ion-spinner icon="ripple" class="spinner-assertive"></ion-spinner>
            <br />
            <span>节点配对中。。。</span>
        </div>
    </script>

    <!--tab 页面-->
    <script id="templates/dashboard.html" type="text/ng-template">
        <ion-view title="" animation="slide-right-left">
            <ion-tabs class="nav-title-slide-ios7 tabs-striped tabs-icon-top tabs-bottom tabs-background-light tabs-balanced" animation="none">
                <ion-tab title="Alarms" icon-on="ion-chatbox" icon-off="ion-chatbox-working" href="#/app/dashboard/alarms">
                    <ion-nav-view name="alarms-tab"></ion-nav-view>
                </ion-tab>
                <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" href="#/app/dashboard/overview">
                    <ion-nav-view name="overview-tab"></ion-nav-view>
                </ion-tab>
                <ion-tab title="Settings" icon-on="ion-ios7-settings-strong" icon-off="ion-ios7-settings" href="#/app/dashboard/usersetting">
                    <ion-nav-view name="usersetting-tab"></ion-nav-view>
                </ion-tab>
            </ion-tabs>
        </ion-view>
    </script>

    <!--报警通知页面-->
    <script id="templates/alarms.html" type="text/ng-template">
        <ion-view title="报警通知" ng-controller="AlarmsCtrl" ng-init="alarmInit()">
            <ion-content class="padding">
                <ion-refresher on-refresh="doRefresh()"  
                           pulling-text=""   
                           refreshing-text="最新报警..."  
                           >  
                </ion-refresher> 
                <div ng-if="AllAlarmsViewModel.alarms.length === 0 || AllAlarmsViewModel.alarms == null">
                    <h5 class="text-center">No Message Info</h5>
                </div>
                <div ng-if="AllAlarmsViewModel.alarms.length != 0" ng-repeat="alarm in AllAlarmsViewModel.alarms">
                    <div class="col-lg-33 disable-user-behavior" ng-click="sendAck(alarm)">

                        <div class="card">
                            <div class="item item-avatar" ng-class="('allalarmsstatus' + alarm.opt_result)">
                                <h2>主机名: {{alarm.device_name}} <span ng-show="alarm.opt_result == 0" class="balanced ng-hide">新报警</span></h2>
                                <p>节点类型: {{alarm.node_type}}</p>
                                <p>报警类型: {{alarm.alert_type}}</p>
                                <p>报警时间: {{alarm.alert_time}}</p>
                            </div>
                        </div>
                    </div>
                </div>    
                <button class="button button-balanced button-block" ng-show="AllAlarmsViewModel.enableMore" style="border-color: #57a595;background-color: #57a595;" ng-click="loadMoreAlarms()">
                    Load More
                </button>  
            </ion-content>
        </ion-view>
    </script>

    <!--主页面-->
    <script id="templates/overview.html" type="text/ng-template">
        <ion-view title="信来智家【{{UsingDeviceViewModel.device.titleText}}】" ng-controller="OverViewCtrl" ng-init="DataReq()">
            <ion-nav-buttons side="right">
                <button class="button-clear" ><i class="icon" ng-class="UsingDeviceViewModel.device.icon" style="font-size: 22px;color: white;"></i></button>
            </ion-nav-buttons>
            <ion-content class="padding" style="padding: 0px;">

                <wrap-owlcarousel  class="owl-carousel"
                                  data-options="{
                            autoPlay: true,
                            slideSpeed : 800,
                            paginationSpeed : 400,
                            items: 3,
                            itemsDesktop: [1199,3],
                            itemsTablet: [768,2],
                            itemsMobile: [479,1],
                            navigation: false,
                        }">

                  <div class="owl-item" ng-click="intBrowser(AdvertiseViewModel.ADs[0].ad_href)">
                        <img src="img/01.png" />
                    </div>
                    <div class="owl-item" ng-click="intBrowser(AdvertiseViewModel.ADs[1].ad_href)">
                        <img src="img/02.png" />
                    </div>
                    <div class="owl-item" ng-click="intBrowser(AdvertiseViewModel.ADs[2].ad_href)">
                        <img src="img/03.png" />
                    </div>
                </wrap-owlcarousel>

                 <div class="card" style="margin-top:-2px;">
                    <div class="list" style="padding-top: 0px;padding-bottom: 0px;">
                        <ion-toggle ng-change="armStatusToggleChanged()" ng-model="UsingDeviceViewModel.device.alert_status">已布防</ion-toggle>
                    </div>
                </div>
 
                <!--<div class="card" >
                    <button class="button button-block" on-tap="armStatusToggleChanged()">
                        {{UsingDeviceViewModel.device.alert_status}}
                    </button>
                </div> -->

                <div class="htmleaf-content" style="margin-top:-6.5vh;">          
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-100 -100 700 700" id="menu">
                    <style>
                        #menu { display: block; margin: 0 auto; overflow: visible;}
                        .citem .sector { transition: all .1s linear; fill: rgba(255, 255, 255, .8); stroke: #fff;  }
                        <!--.citem:hover .sector { fill: #333; }-->
                        .menu-trigger { fill: deepPink; pointer-events: auto;}
                        .menu-trigger:hover { cursor: pointer; }
                        .citem use { fill: rgb(87, 165, 149); }
                        <!--.citem:hover use { fill: #fff; }-->
                    </style>
                    <g id="symbolsContainer">   
                        <symbol class="icon icon-" id="icon-1" viewBox="0 0 40 40"><path d="M8.909,4.12c1.315,0,2.381,1.066,2.381,2.381s-1.066,2.381-2.381,2.381S6.528,7.816,6.528,6.501S7.594,4.12,8.909,4.12z
                            	 M15.209,0.203c-0.269-0.27-0.705-0.27-0.973,0c-0.27,0.268-0.27,0.703,0,0.973C15.658,2.6,16.442,4.489,16.442,6.5
                            	c0,2.014-0.784,3.905-2.206,5.327c-0.27,0.27-0.27,0.706,0,0.975c0.134,0.134,0.31,0.201,0.487,0.201
                            	c0.176,0,0.353-0.067,0.485-0.201c1.684-1.684,2.61-3.92,2.61-6.302C17.819,4.123,16.892,1.885,15.209,0.203z M1.376,6.5
                            	c0-2.012,0.784-3.903,2.206-5.325c0.271-0.27,0.271-0.705,0-0.974c-0.268-0.269-0.705-0.269-0.973,0C0.926,1.884,0,4.122,0,6.5
                            	c0,2.382,0.927,4.618,2.609,6.302c0.135,0.135,0.31,0.202,0.485,0.202c0.177,0,0.353-0.067,0.486-0.202
                            	c0.271-0.268,0.271-0.703,0-0.974C2.16,10.406,1.376,8.515,1.376,6.5z M13.14,2.271c-0.269-0.269-0.704-0.269-0.973,0
                            	c-0.269,0.27-0.269,0.705,0,0.975c0.87,0.869,1.348,2.025,1.348,3.255c0,1.231-0.479,2.388-1.348,3.259
                            	c-0.269,0.27-0.269,0.705,0,0.973c0.134,0.137,0.311,0.202,0.486,0.202s0.353-0.065,0.486-0.202
                            	c1.131-1.131,1.753-2.632,1.753-4.231S14.271,3.401,13.14,2.271z M5.651,2.271c-0.27-0.269-0.705-0.269-0.974,0
                            	C3.548,3.401,2.925,4.902,2.925,6.5c0,1.6,0.623,3.103,1.753,4.231c0.134,0.137,0.312,0.203,0.486,0.203
                            	c0.176,0,0.354-0.066,0.486-0.203c0.27-0.268,0.27-0.703,0-0.973C4.78,8.889,4.3,7.731,4.3,6.499c0-1.229,0.479-2.387,1.35-3.257
                            	C5.921,2.974,5.921,2.54,5.651,2.271z"></path></symbol>

                            <symbol class="icon icon-" id="icon-2" viewBox="0 0 40 40"><path d="M34 4h-2v-2c0-1.1-0.9-2-2-2h-28c-1.1 0-2 0.9-2 2v24c0 1.1 0.9 2 2 2h2v2c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-24c0-1.1-0.9-2-2-2zM4 6v20h-1.996c-0.001-0.001-0.003-0.002-0.004-0.004v-23.993c0.001-0.001 0.002-0.003 0.004-0.004h27.993c0.001 0.001 0.003 0.002 0.004 0.004v1.996h-24c-1.1 0-2 0.9-2 2v0zM34 29.996c-0.001 0.001-0.002 0.003-0.004 0.004h-27.993c-0.001-0.001-0.003-0.002-0.004-0.004v-23.993c0.001-0.001 0.002-0.003 0.004-0.004h27.993c0.001 0.001 0.003 0.002 0.004 0.004v23.993z"></path>
                                <path d="M30 11c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z"></path>
                                <path d="M32 28h-24v-4l7-12 8 10h2l7-6z"></path></symbol>

                            <symbol class="icon icon-" id="icon-3" viewBox="0 0 40 40"><path d="M15 4c-1.583 0-3.112 0.248-4.543 0.738-1.341 0.459-2.535 1.107-3.547 1.926-1.876 1.518-2.91 3.463-2.91 5.474 0 1.125 0.315 2.217 0.935 3.247 0.646 1.073 1.622 2.056 2.821 2.842 0.951 0.624 1.592 1.623 1.761 2.748 0.028 0.187 0.051 0.375 0.068 0.564 0.085-0.079 0.169-0.16 0.254-0.244 0.754-0.751 1.771-1.166 2.823-1.166 0.167 0 0.335 0.011 0.503 0.032 0.605 0.077 1.223 0.116 1.836 0.116 1.583 0 3.112-0.248 4.543-0.738 1.341-0.459 2.535-1.107 3.547-1.926 1.876-1.518 2.91-3.463 2.91-5.474s-1.033-3.956-2.91-5.474c-1.012-0.819-2.206-1.467-3.547-1.926-1.431-0.49-2.96-0.738-4.543-0.738zM15 0v0c8.284 0 15 5.435 15 12.139s-6.716 12.139-15 12.139c-0.796 0-1.576-0.051-2.339-0.147-3.222 3.209-6.943 3.785-10.661 3.869v-0.785c2.008-0.98 3.625-2.765 3.625-4.804 0-0.285-0.022-0.564-0.063-0.837-3.392-2.225-5.562-5.625-5.562-9.434 0-6.704 6.716-12.139 15-12.139zM31.125 27.209c0 1.748 1.135 3.278 2.875 4.118v0.673c-3.223-0.072-6.181-0.566-8.973-3.316-0.661 0.083-1.337 0.126-2.027 0.126-2.983 0-5.732-0.805-7.925-2.157 4.521-0.016 8.789-1.464 12.026-4.084 1.631-1.32 2.919-2.87 3.825-4.605 0.961-1.84 1.449-3.799 1.449-5.825 0-0.326-0.014-0.651-0.039-0.974 2.268 1.873 3.664 4.426 3.664 7.24 0 3.265-1.88 6.179-4.82 8.086-0.036 0.234-0.055 0.474-0.055 0.718z"></path></symbol>

                            <symbol class="icon icon-" id="icon-4" viewBox="0 0 40 40"><path d="M16 4c-7.732 0-14 6.268-14 14s6.268 14 14 14 14-6.268 14-14-6.268-14-14-14zM16 29.25c-6.213 0-11.25-5.037-11.25-11.25s5.037-11.25 11.25-11.25c6.213 0 11.25 5.037 11.25 11.25s-5.037 11.25-11.25 11.25zM29.212 8.974c0.501-0.877 0.788-1.892 0.788-2.974 0-3.314-2.686-6-6-6-1.932 0-3.65 0.913-4.747 2.331 4.121 0.851 7.663 3.287 9.96 6.643v0zM12.748 2.331c-1.097-1.418-2.816-2.331-4.748-2.331-3.314 0-6 2.686-6 6 0 1.082 0.287 2.098 0.788 2.974 2.297-3.356 5.838-5.792 9.96-6.643z"></path>
                                <path d="M16 18v-8h-2v10h8v-2z"></path></symbol>

                            <symbol class="icon icon-" id="icon-5" viewBox="0 0 40 40"><path d="M26 30l6-16h-26l-6 16zM4 12l-4 18v-26h9l4 4h13v4z"></path></symbol>

                        <symbol class="icon icon-" id="icon-5" viewBox="0 0 40 40"><path d="M28 4v26h-21c-1.657 0-3-1.343-3-3s1.343-3 3-3h19v-24h-20c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24v-28h-2z"></path>
                    <path d="M7.002 26v0c-0.001 0-0.001 0-0.002 0-0.552 0-1 0.448-1 1s0.448 1 1 1c0.001 0 0.001-0 0.002-0v0h18.997v-2h-18.997z"></path>
                    </symbol>

                        <symbol class="icon icon-" id="icon-6" viewBox="0 0 40 40"><path d="M11.366 22.564l1.291-1.807-1.414-1.414-1.807 1.291c-0.335-0.187-0.694-0.337-1.071-0.444l-0.365-2.19h-2l-0.365 2.19c-0.377 0.107-0.736 0.256-1.071 0.444l-1.807-1.291-1.414 1.414 1.291 1.807c-0.187 0.335-0.337 0.694-0.443 1.071l-2.19 0.365v2l2.19 0.365c0.107 0.377 0.256 0.736 0.444 1.071l-1.291 1.807 1.414 1.414 1.807-1.291c0.335 0.187 0.694 0.337 1.071 0.444l0.365 2.19h2l0.365-2.19c0.377-0.107 0.736-0.256 1.071-0.444l1.807 1.291 1.414-1.414-1.291-1.807c0.187-0.335 0.337-0.694 0.444-1.071l2.19-0.365v-2l-2.19-0.365c-0.107-0.377-0.256-0.736-0.444-1.071zM7 27c-1.105 0-2-0.895-2-2s0.895-2 2-2 2 0.895 2 2-0.895 2-2 2zM32 12v-2l-2.106-0.383c-0.039-0.251-0.088-0.499-0.148-0.743l1.799-1.159-0.765-1.848-2.092 0.452c-0.132-0.216-0.273-0.426-0.422-0.629l1.219-1.761-1.414-1.414-1.761 1.219c-0.203-0.149-0.413-0.29-0.629-0.422l0.452-2.092-1.848-0.765-1.159 1.799c-0.244-0.059-0.492-0.109-0.743-0.148l-0.383-2.106h-2l-0.383 2.106c-0.251 0.039-0.499 0.088-0.743 0.148l-1.159-1.799-1.848 0.765 0.452 2.092c-0.216 0.132-0.426 0.273-0.629 0.422l-1.761-1.219-1.414 1.414 1.219 1.761c-0.149 0.203-0.29 0.413-0.422 0.629l-2.092-0.452-0.765 1.848 1.799 1.159c-0.059 0.244-0.109 0.492-0.148 0.743l-2.106 0.383v2l2.106 0.383c0.039 0.251 0.088 0.499 0.148 0.743l-1.799 1.159 0.765 1.848 2.092-0.452c0.132 0.216 0.273 0.426 0.422 0.629l-1.219 1.761 1.414 1.414 1.761-1.219c0.203 0.149 0.413 0.29 0.629 0.422l-0.452 2.092 1.848 0.765 1.159-1.799c0.244 0.059 0.492 0.109 0.743 0.148l0.383 2.106h2l0.383-2.106c0.251-0.039 0.499-0.088 0.743-0.148l1.159 1.799 1.848-0.765-0.452-2.092c0.216-0.132 0.426-0.273 0.629-0.422l1.761 1.219 1.414-1.414-1.219-1.761c0.149-0.203 0.29-0.413 0.422-0.629l2.092 0.452 0.765-1.848-1.799-1.159c0.059-0.244 0.109-0.492 0.148-0.743l2.106-0.383zM21 15.35c-2.402 0-4.35-1.948-4.35-4.35s1.948-4.35 4.35-4.35 4.35 1.948 4.35 4.35c0 2.402-1.948 4.35-4.35 4.35z"></path></symbol>

                        <symbol class="icon icon-" id="icon-7" viewBox="0 0 40 40"><path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM3 16c0-7.18 5.82-13 13-13 3.424 0 6.538 1.325 8.86 3.488l-12.86 5.512-5.512 12.86c-2.164-2.322-3.488-5.436-3.488-8.86zM18.286 18.286l-8.003 3.43 3.43-8.003 4.573 4.573zM16 29c-3.424 0-6.539-1.325-8.86-3.488l12.86-5.512 5.512-12.86c2.164 2.322 3.488 5.436 3.488 8.86 0 7.18-5.82 13-13 13z"></path></symbol>

                        <symbol class="icon icon-" id="icon-8" viewBox="0 0 40 40"><path d="M30.478 18.061c0.088-0.65 0.138-1.311 0.138-1.983 0-8.072-6.579-14.617-14.694-14.617-0.806 0-1.597 0.066-2.367 0.192-1.38-0.899-3.021-1.423-4.788-1.423-4.845 0-8.768 3.925-8.768 8.769 0 1.762 0.519 3.4 1.412 4.774-0.12 0.751-0.182 1.52-0.182 2.304 0 8.073 6.576 14.618 14.693 14.618 0.916 0 1.808-0.089 2.675-0.246 1.347 0.836 2.933 1.322 4.634 1.322 4.844 0 8.768-3.926 8.768-8.77-0-1.831-0.56-3.533-1.522-4.94zM17.296 26.85c-4.669 0.243-6.854-0.79-8.856-2.668-2.235-2.098-1.337-4.491 0.484-4.613 1.82-0.122 2.913 2.063 3.884 2.671 0.97 0.605 4.662 1.985 6.612-0.244 2.123-2.427-1.412-3.683-4.004-4.063-3.7-0.548-8.372-2.55-8.008-6.494 0.364-3.942 3.349-5.963 6.491-6.248 4.005-0.364 6.612 0.607 8.674 2.366 2.384 2.033 1.094 4.306-0.425 4.489-1.513 0.182-3.213-3.344-6.549-3.397-3.439-0.054-5.764 3.579-1.518 4.612 4.248 1.032 8.797 1.455 10.435 5.339 1.639 3.884-2.547 8.008-7.22 8.251z"></path></symbol>
                    </g>
                    <g id="itemsContainer" data-svg-origin="250 250" transform="matrix(0.38734,-0.92193,0.92193,0.38734,-77.3193578290572,383.64893561257276)">    
                         <a on-tap="nodeTypeTap(1,'app.nodeType',  '我的门磁',2)" class="citem" id="item-1" xlink:href=" " xlink:title=" " transform="matrix(1,0,0,1,0,0)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-1" width="135" height="135" x="384.4505615234375" y="136.88233947753906" transform="rotate(67.5 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(67.5 414.4505615234375 181.88233947753906)">门磁监控</text>
                         </a>
                         
                        <a on-tap="nodeTypeTap(2,'app.nodeType', '我的红外监测',3)" class="citem" id="item-2" xlink:href=" " xlink:title=" " transform="matrix(0.7071,-0.7071,0.7071,0.7071,-103.55339059327378,249.99999999999997)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-2" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(112 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(112 414.4505615234375 181.88233947753906)">红外监控</text>
                        </a>
                            
                        <a on-tap="nodeTypeTap(3,'app.nodeType', '我的烟雾探测',4)" class="citem" id="item-3" xlink:href=" " xlink:title=" " transform="matrix(0,-1,1,0,0,500)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-3" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(156.5 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(156.5 414.4505615234375 181.88233947753906)">烟雾探测</text>
                        </a>
                            
                        <a on-tap="openModal()" class="citem" id="item-4" xlink:href=" " xlink:title=" " transform="matrix(-0.7071,-0.7071,0.7071,-0.7071,249.99999999999997,603.5533905932738)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-4" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(201 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(201 414.4505615234375 181.88233947753906)">视频监控</text>
                        </a>
                            
                        <a on-tap="openModal()" class="citem" id="item-5" xlink:href=" " xlink:title=" " transform="matrix(-1,0,0,-1,500,500)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-5" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(245.5 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(245.5 414.4505615234375 181.88233947753906)">智能监控</text>
                        </a>

                        <a on-tap="openModal()" class="citem" id="item-6" xlink:href=" " xlink:title=" " transform="matrix(-0.7071,0.7071,-0.7071,-0.7071,603.5533905932738,250.00000000000006)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-6" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(291 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(291 414.4505615234375 181.88233947753906)">智能家居</text>
                        </a>
                            
                        <a on-tap="Emergency(7,'紧急报警','在特殊情况下方可点击')" class="citem" id="item-7" xlink:href=" " xlink:title=" " transform="matrix(0,1,-1,0,500.00000000000006,0)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-7" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(336.5 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(336.5 414.4505615234375 181.88233947753906)">紧急报警</text>
                        </a>
                            
                        <a on-tap="nodeTypeTap(8,'app.nodeType', '我的温度监测', 5)" class="citem" id="item-8" xlink:href=" " xlink:title=" " transform="matrix(0.7071,0.7071,-0.7071,0.7071,250.00000000000009,-103.55339059327378)" data-svg-origin="250 250" style=""><path fill="none" stroke="#111" d="M350,250 l150,0 A250,250 0 0,0 426.7766952966369,73.22330470336314 l-106.06601717798213,106.0660171779821 A100,100 0 0,1 350,250" class="sector"></path>
                            <use xlink:href="#icon-8" width="75" height="75" x="384.4505615234375" y="136.88233947753906" transform="rotate(21 414.4505615234375 181.88233947753906)"></use>
                            <text width="40" height="40" x="384.4505615234375" y="220.88233947753906" transform="rotate(21 414.4505615234375 181.88233947753906)">温度监测</text>
                        </a>
                    </g>
                     <g class="trigger" style="fill:#FFF;">
                        <circle cx="250" cy="250" r="70"></circle>
                    </g>
                    <g id="trigger" class="trigger" style="fill:#57a595;" on-tap="nodeTypeTap(9,'app.nodeTypeAll')">
                        <circle cx="250" cy="250" r="50"></circle>
                        <text id="label" text-anchor="middle" x="250" y="240" fill="#fff" style="font-size:20px;">信 来</text>
                        <text id="label" text-anchor="middle" x="250" y="270" fill="#fff" style="font-size:20px;">主 机</text>
                    </g>
                    </svg>
                </div>
              
                <div class="clearfix"></div>
                <div class="clearfix"></div>

            </ion-content>
        </ion-view>
    </script>

    <!--个人中心页面-->
    <script id="templates/usersetting.html" type="text/ng-template">
        <ion-view title="用户" ng-controller="usersettingCtrl">
            <ion-content>
                <div style="padding: 5% 40% 3% 38%; background-color: #70b7a8;">
                    <img style="width: 100px;height: 80px;" src="img/logo.png" />
                </div>
                <div style="text-align: center; color: antiquewhite; font-size: 16px; background-color: #70b7a8;">{{LoginUserViewModel.loginuser.name}}</div>
                    <div class="list">
                        <li class="item" on-tap="pageJump('app.userinfo')">
                            <i class="icon ion-person blockLine-Icon" style="font-size: 26px; padding-right:15px;"></i><span>账号信息</span>
                        </li>
                        <li class="item " on-tap="pageJump('app.purchaseinfo')">
                            <i class="icon ion-card blockLine-Icon" style="font-size: 26px; padding-right:15px;"></i><span>支付业务</span>
                        </li>
                        <li class="item " on-tap="pageJump('app.changepassword')">
                            <i class="icon ion-card blockLine-Icon" style="font-size: 26px; padding-right:15px;"></i><span>密码修改</span>
                        </li>  
                        <li class="item " on-tap="pageJump('app.about')">
                            <i class="icon ion-aperture blockLine-Icon" style="font-size: 26px; padding-right:15px;"></i><span>关于</span>
                        </li>   
                        <li class="item item-divider"></li> 
                        <li class="item " on-tap="logout()">
                            <i class="icon ion-power blockLine-Icon" style="font-size: 26px; padding-right:15px;"></i><span>安全退出</span>
                        </li>                                                                  
                    </div>
            </ion-content>
        </ion-view>
    </script>
    
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src='http://www.htmleaf.com/assets/js/prefixfree.min.js'></script>
    <script src="js/modernizr.js"></script>
    <script src="js/linq.js"></script>
    <script src="js/owl.carousel.min.js"></script>  
    <script src='http://www.htmleaf.com/assets/js/stopExecutionOnTimeout.js?t=1'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.0/TweenMax.min.js '></script>
    <script type="text/javascript">
      var svg = document.getElementById('menu'), items = svg.querySelectorAll('.item'), trigger = document.getElementById('trigger'), label = trigger.querySelectorAll('#label')[0], open = true, angle = 45;
        trigger.addEventListener('click', toggleMenu, false);
        function toggleMenu(event) {
            if (!event)
                var event = window.event;
            event.stopPropagation();
            open = !open;
            if (open) {
                var tl = new TimelineLite();
                tl.to(items, 0.2, {
                    scale: 1,
                    ease: Back.easeOut.config(4)
                }, 0.05);
                for (var i = 0; i < items.length; i++) {
                    if (window.CP.shouldStopExecution(1)) {
                        break;
                    }
                    tl.to(items[i], 0.7, {
                        rotation: -i * angle + 'deg',
                        ease: Bounce.easeOut
                    }, 0.35);
                }
                window.CP.exitedLoop(1);
                label.innerHTML = '-';
                svg.style.pointerEvents = 'auto';
            } else {
                var tl = new TimelineLite();
                for (var i = 0; i < items.length; i++) {
                    if (window.CP.shouldStopExecution(2)) {
                        break;
                    }
                    tl.to(items[i], 0.3, {
                        rotation: 0,
                        ease: Circ.easeOut
                    }, 0.05);
                }
                window.CP.exitedLoop(2);
                tl.to(items, 0.3, {
                    scale: 0,
                    ease: Back.easeIn
                }, 0.3);
                label.innerHTML = '+';
                svg.style.pointerEvents = 'none';
            }
        }
        svg.onclick = function (e) {
            e.stopPropagation();
        };
        document.onclick = function () {
            open = false;
            var tl = new TimelineLite();
            for (var i = 0; i < items.length; i++) {
                if (window.CP.shouldStopExecution(3)) {
                    break;
                }
                tl.to(items[i], 0.3, {
                    rotation: 0,
                    ease: Circ.easeOut
                }, 0.05);
            }
            window.CP.exitedLoop(3);
            tl.to(items, 0.3, {
                scale: 0,
                ease: Back.easeIn
            }, 0.3);
            label.innerHTML = '+';
            svg.style.pointerEvents = 'none';
        };    
    </script> 
</body>
</html>
